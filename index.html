<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Auto PDF Scroller</title>

	<!-- Tailwind -->
	<script src="https://cdn.tailwindcss.com"></script>

	<!-- Centralized Tailwind color config with dark mode -->
	<script>
		tailwind.config = {
			darkMode: 'media',
			theme: {
				extend: {
					colors: {
						primary: "#3b82f6",
						primaryHover: "#2563eb",
						surface: "#f0f0f0",
						surfaceDark: "#000000",
						sidebar: "#ffffff",
						sidebarDark: "#303030",
						sidebarHover: "#f3f4f6",
						sidebarHoverDark: "#3a3a3a",
						control: "#e5e7eb",
						controlDark: "#303030",
						muted: "#303030",
						mutedDark: "#d1d5db"
					}
				}
			}
		};
	</script>

	<!-- Icons -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
</head>

<body class="flex flex-col md:flex-row h-screen font-sans bg-surface dark:bg-surfaceDark dark:text-mutedDark">

<!-- Sidebar -->
<div id="sidebar"
     class="bg-sidebar dark:bg-sidebarDark flex flex-col p-2 md:w-64 md:flex-shrink-0 w-full md:h-full">

  <!-- Row with Hamburger and Select Folder button -->
  <div class="flex items-center gap-2 md:flex-col md:gap-0 pt-1">

    <!-- Hamburger toggle for small screens -->
    <button id="toggleFileList"
            class="md:hidden px-3 py-2 rounded-md bg-primary text-white hover:bg-primaryHover transition-transform active:translate-y-0.5">
      <i class="fa fa-bars"></i>
    </button>

    <!-- Select Folder -->
		<button id="pickFolder" tabindex="1"
			class="w-full px-4 py-2 text-base rounded-md bg-primary text-white hover:bg-primaryHover transition-transform active:translate-y-0.5">
			Select Folder
		</button>
  </div>

  <!-- Hidden file input for Safari / fallback browsers -->
  <input id="fileInput" type="file" accept=".pdf" multiple class="hidden">

  <ul id="fileList"
      class="flex-1 overflow-y-auto list-none mt-2 pt-0 border-t border-sidebarHover dark:border-sidebarHoverDark smooth-scroll hidden md:block">
  </ul>
</div>

  <!-- Viewer panel -->
  <div class="viewer-panel flex-1 flex flex-col overflow-x-hidden">

	<!-- Controls -->
	<div class="controls flex flex-row md:flex-row items-center py-3 gap-2 px-2 bg-control dark:bg-controlDark flex-wrap">
	
		<!-- Play/Pause button -->
		<button id="playPause" tabindex="2"
			class="flex items-center justify-center min-w-[96px] px-3 py-2 rounded bg-primary text-white hover:bg-primaryHover transition gap-1"
			aria-pressed="false">
			<i class="fa fa-play"></i>
			<span>Play</span>
		</button>
	
		<!-- Slider + Value + Status -->
		<div class="flex-1 flex flex-col gap-1 justify-center">
			<div class="flex items-center gap-2 w-full">
				<input tabindex="3" id="speed" type="range" min="0.5" max="8" value="2" step="0.1"
					class="h-2 w-full md:w-32 accent-primary" aria-label="Scroll speed">
				<span id="speedValue" class="text-muted dark:text-mutedDark text-sm leading-none">2.0</span>
			</div>
	
			<!-- Status below slider -->
			<span id="status" class="text-muted dark:text-mutedDark text-sm leading-none">Paused</span>
		</div>
	
	</div>


    <!-- PDF viewer -->
    <div id="viewerContainer"
         class="flex-1 overflow-y-auto bg-surface dark:bg-surfaceDark flex flex-col items-center p-2">
      <canvas id="pdf-canvas" class="block max-w-full h-auto bg-surface dark:bg-surfaceDark my-2"></canvas>
    </div>

  </div>

	<!-- PDF.js -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js"></script>

	<!-- App -->
	<script src="renderer.js"></script>
</body>

</html>